<div class="container-fluid" style="
		position: fixed;
    top: 20%;
    left: 5%;
    width: 90%;
		padding: 0 !important;">

	<div class="row">
		<div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">

			<mat-card style="padding: 30px;">
				<h1 class="gd-primary">Password reset</h1>
				<h4 class="gd-secondary" *ngIf="!success">Enter your email address to receive an email containing a link to reset your password.</h4>
				<br/>

				<app-alert type="success" title="Password reset requested" *ngIf="success" [dismissible]="false">
					<h5>If this account exists, you will receive an email with a link to reset your password.
						<br/>
						<br/>Please click the link in the email you received to choose a new passoword<br/>
						<strong>(Also check your spam folder)</strong></h5>
				</app-alert>

				<div class="alert alert-gd-1" style="margin: 0 0 15px 0;" *ngIf="!success">
					<div>
						<form *ngIf="!success" [formGroup]="loginForm" (ngSubmit)="environment.production==true?captchaRef.execute():sendRequest()">
							<div class="form-group">
								<label for="mail">Enter your email address</label>
								<input autocomplete="email" type="text" formControlName="mail" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.mail.errors }" placeholder="Enter your email address"/>
								<div *ngIf="submitted && f.mail.errors" class="invalid-feedback">
									<div *ngIf="f.mail.errors.required">Email address is required</div>
								</div>
							</div>
							<div class="form-group">
								<button [disabled]="loading" class="btn btn-primary">
									<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
									Reset password
								</button>
							</div>

							<mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>

							<p class="invalid-feedback" *ngIf="error!=''" style="color: #a94442 !important;">{{error}}</p>
							<a *ngIf="error!=''" routerLink="/indexer">Register for a new account</a>
						</form>
					</div>


				</div>

				<div class="row text-center" style="text-align: -webkit-center;" *ngIf="!success">
					<re-captcha
						size="invisible"
						#captchaRef="reCaptcha"
						siteKey="{{recaptcha_key}}"
						(resolved)="$event && resolved($event)">
					</re-captcha>
				</div>

				<div style="height: 25px;">
					<a routerLink="/indexer" class="btn btn-link" style="float: right;" ><< Back to login</a>
				</div>

			</mat-card>
		</div>
	</div>

	<!--<div *ngIf="submitted==true && error == ''">-->
	<!--<br/>-->
	<!--<p>Logged in! We will redirect you now..</p>-->
	<!--<br/>-->
	<!--</div>-->


</div>
